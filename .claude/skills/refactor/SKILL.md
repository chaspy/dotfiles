---
name: refactor
description: 安全で段階的なコードリファクタリングを実行し、コードの品質と保守性を向上させる。コード整理や設計改善に使用。
argument-hint: "[対象ファイルまたはディレクトリ]"
---

# リファクタリング

安全で段階的なコードリファクタリングを実行し、コードの品質と保守性を向上させます。

## リファクタリング対象

1. **コード構造** - 重複コードの除去、長いメソッドの分割、複雑な条件分岐の簡素化
2. **設計改善** - SOLID原則の適用、デザインパターンの導入、責務の分離
3. **命名改善** - 変数・関数名の明確化、一貫性のある命名規則、マジックナンバーの定数化
4. **型安全性** - 型定義の追加・改善、any型の排除、ジェネリクスの活用

## リファクタリングプロセス

1. **現状分析** - コードの問題点を特定、テストカバレッジの確認、依存関係の把握
2. **計画策定** - 小さなステップに分解、各ステップでテスト可能に
3. **段階的実行** - 1つの変更ごとにテスト、動作を変えない変更のみ
4. **品質確認** - 自動テストの実行、パフォーマンス影響の検証

## 安全性の確保

- 動作を変更しない純粋なリファクタリング
- テストがない場合は先にテストを作成
- 1度に1つの変更のみ実行
- 各ステップで動作確認
